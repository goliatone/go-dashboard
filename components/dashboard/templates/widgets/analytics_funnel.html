<div class="widget widget--analytics widget--funnel">
  <header>
    <h3>Conversion Funnel</h3>
    <small>{{ widget.data.range or "30d" }} Â· {{ widget.data.segment or "All users" }}</small>
  </header>
  <div class="widget__meta">
    <span>{{ (widget.data.conversion_rate or 0)|floatformat:1 }}% conversion</span>
    <span>Goal {{ (widget.data.goal or widget.config.goal or 0)|floatformat:1 }}%</span>
  </div>
  <ol class="funnel-steps">
    {% for step in widget.data.steps %}
    <li class="funnel-steps__item">
      <div class="funnel-steps__bar">
        <span style="width: {{ step.percent }}%;"></span>
      </div>
      <div class="funnel-steps__label">
        <strong>{{ step.label }}</strong>
        <span>{{ step.value }} records</span>
        {% if step.position > 0 %}
        <small>{{ step.dropoff or 0 }}% drop</small>
        {% endif %}
      </div>
    </li>
    {% endfor %}
  </ol>
</div>
